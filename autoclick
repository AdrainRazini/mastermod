-- üîí Requer executor externo (Synapse, KRNL, etc.)
local VirtualInputManager = game:GetService("VirtualInputManager")
local UserInputService = game:GetService("UserInputService")
local RunService = game:GetService("RunService")
local player = game.Players.LocalPlayer

-- GUI Setup
local gui = Instance.new("ScreenGui", player:WaitForChild("PlayerGui"))
gui.Name = "AutoClickerGUI"
gui.ResetOnSpawn = false

-- Janela principal
local main = Instance.new("Frame", gui)
main.Size = UDim2.new(0, 240, 0, 180)
main.Position = UDim2.new(0, 10, 0, 10)
main.BackgroundColor3 = Color3.fromRGB(35, 35, 35)
main.Parent = gui

-- Label do tipo de dispositivo
local tipoLabel = Instance.new("TextLabel", main)
tipoLabel.Size = UDim2.new(1, -20, 0, 30)
tipoLabel.Position = UDim2.new(0, 10, 0, 10)
tipoLabel.TextColor3 = Color3.new(1, 1, 1)
tipoLabel.BackgroundTransparency = 1
tipoLabel.Font = Enum.Font.GothamBold
tipoLabel.TextSize = 16

-- Bot√£o de ativar
local toggleBtn = Instance.new("TextButton", main)
toggleBtn.Size = UDim2.new(1, -20, 0, 40)
toggleBtn.Position = UDim2.new(0, 10, 0, 50)
toggleBtn.Text = "Ativar Click"
toggleBtn.BackgroundColor3 = Color3.fromRGB(0, 170, 0)
toggleBtn.TextColor3 = Color3.new(1, 1, 1)
toggleBtn.Font = Enum.Font.GothamBold
toggleBtn.TextSize = 18

-- Bot√£o de selecionar posi√ß√£o
local selectBtn = Instance.new("TextButton", main)
selectBtn.Size = UDim2.new(1, -20, 0, 40)
selectBtn.Position = UDim2.new(0, 10, 0, 100)
selectBtn.Text = "Selecionar Posi√ß√£o"
selectBtn.BackgroundColor3 = Color3.fromRGB(0, 90, 170)
selectBtn.TextColor3 = Color3.new(1, 1, 1)
selectBtn.Font = Enum.Font.GothamBold
selectBtn.TextSize = 18

-- Label da posi√ß√£o
local posLabel = Instance.new("TextLabel", main)
posLabel.Size = UDim2.new(1, -20, 0, 30)
posLabel.Position = UDim2.new(0, 10, 0, 150)
posLabel.Text = "Posi√ß√£o: -"
posLabel.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
posLabel.TextColor3 = Color3.new(1, 1, 1)
posLabel.Font = Enum.Font.GothamBold
posLabel.TextSize = 14

-- üì± Detectar se √© PC ou Mobile
local isMobile = UserInputService.TouchEnabled and not UserInputService.KeyboardEnabled
if isMobile then
	tipoLabel.Text = "üì± Dispositivo: CELULAR"
else
	tipoLabel.Text = "üíª Dispositivo: PC"
end

-- üîÅ Vari√°veis
local clickPos = nil
local active = false
local selecting = false

-- ‚ôªÔ∏è Loop de clique autom√°tico
RunService.RenderStepped:Connect(function()
	if active and clickPos then
		if isMobile then
			-- Simula toque
			VirtualInputManager:SendTouchEvent(Enum.UserInputType.Touch, clickPos.X, clickPos.Y, true, game)
			wait(0.05)
			VirtualInputManager:SendTouchEvent(Enum.UserInputType.Touch, clickPos.X, clickPos.Y, false, game)
		else
			-- Simula clique de mouse
			VirtualInputManager:SendMouseButtonEvent(clickPos.X, clickPos.Y, 0, true, game, 1)
			wait(0.05)
			VirtualInputManager:SendMouseButtonEvent(clickPos.X, clickPos.Y, 0, false, game, 1)
		end
	end
end)

-- üü¢ Ativar/Desativar click
toggleBtn.MouseButton1Click:Connect(function()
	active = not active
	toggleBtn.Text = active and "Desativar Click" or "Ativar Click"
	toggleBtn.BackgroundColor3 = active and Color3.fromRGB(170, 0, 0) or Color3.fromRGB(0, 170, 0)
end)

-- üß≤ Selecionar posi√ß√£o do clique
selectBtn.MouseButton1Click:Connect(function()
	selecting = true
	selectBtn.Text = "Clique na tela..."
end)

-- üìç Captura do clique
UserInputService.InputBegan:Connect(function(input)
	if selecting and input.UserInputType == Enum.UserInputType.MouseButton1 then
		clickPos = UserInputService:GetMouseLocation()
		posLabel.Text = "Posi√ß√£o: " .. clickPos.X .. ", " .. clickPos.Y
		selectBtn.Text = "Selecionar Posi√ß√£o"
		selecting = false
	end
end)
