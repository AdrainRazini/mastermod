-- üîí Requer executor externo com suporte a VirtualInputManager

local VirtualInputManager = game:GetService("VirtualInputManager")
local uis = game:GetService("UserInputService")
local run = game:GetService("RunService")
local player = game.Players.LocalPlayer

-- GUI Setup
local gui = Instance.new("ScreenGui", player:WaitForChild("PlayerGui"))
gui.Name = "AutoTouchClickerGUI"

local main = Instance.new("Frame", gui)
main.Size = UDim2.new(0, 200, 0, 150)
main.Position = UDim2.new(0, 10, 0, 10)
main.BackgroundColor3 = Color3.fromRGB(35, 35, 35)

local toggleBtn = Instance.new("TextButton", main)
toggleBtn.Size = UDim2.new(1, -20, 0, 30)
toggleBtn.Position = UDim2.new(0, 10, 0, 10)
toggleBtn.Text = "Ativar Touch"
toggleBtn.BackgroundColor3 = Color3.fromRGB(0, 170, 0)

local selectBtn = Instance.new("TextButton", main)
selectBtn.Size = UDim2.new(1, -20, 0, 30)
selectBtn.Position = UDim2.new(0, 10, 0, 50)
selectBtn.Text = "Selecionar Posi√ß√£o"
selectBtn.BackgroundColor3 = Color3.fromRGB(0, 90, 170)

local posLabel = Instance.new("TextLabel", main)
posLabel.Size = UDim2.new(1, -20, 0, 30)
posLabel.Position = UDim2.new(0, 10, 0, 90)
posLabel.Text = "Posi√ß√£o: -"
posLabel.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
posLabel.TextColor3 = Color3.fromRGB(255, 255, 255)

-- Vari√°veis
local clickPos = nil
local active = false
local selecting = false

-- Loop de toque
run.RenderStepped:Connect(function()
	if active and clickPos then
		local x = clickPos.X
		local y = clickPos.Y
		VirtualInputManager:SendTouchEvent(Enum.UserInputType.Touch, x, y, true, game)
		wait(0.05)
		VirtualInputManager:SendTouchEvent(Enum.UserInputType.Touch, x, y, false, game)
	end
end)

-- Alternar
toggleBtn.MouseButton1Click:Connect(function()
	active = not active
	toggleBtn.Text = active and "Desativar Touch" or "Ativar Touch"
	toggleBtn.BackgroundColor3 = active and Color3.fromRGB(170, 0, 0) or Color3.fromRGB(0, 170, 0)
end)

-- Selecionar posi√ß√£o com clique
selectBtn.MouseButton1Click:Connect(function()
	selecting = true
	selectBtn.Text = "Toque na tela..."
end)

uis.InputBegan:Connect(function(input)
	if selecting and input.UserInputType == Enum.UserInputType.MouseButton1 then
		clickPos = uis:GetMouseLocation()
		posLabel.Text = "Posi√ß√£o: " .. clickPos.X .. ", " .. clickPos.Y
		selectBtn.Text = "Selecionar Posi√ß√£o"
		selecting = false
	end
end)
