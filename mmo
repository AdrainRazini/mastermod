local player = game.Players.LocalPlayer
local userInputService = game:GetService("UserInputService")

-- Criação da interface gráfica
local screenGui = Instance.new("ScreenGui", player:WaitForChild("PlayerGui"))
local menuFrame = Instance.new("Frame", screenGui)
menuFrame.Size = UDim2.new(0, 300, 0, 400)
menuFrame.Position = UDim2.new(0.5, -150, 0.5, -200)
menuFrame.BackgroundColor3 = Color3.new(0.1, 0.1, 0.1)
menuFrame.BorderSizePixel = 0
menuFrame.Visible = true

-- Título do menu
local titleLabel = Instance.new("TextLabel", menuFrame)
titleLabel.Size = UDim2.new(1, 0, 0, 50)
titleLabel.Text = "Mod Menu"
titleLabel.TextColor3 = Color3.new(1, 1, 1)
titleLabel.BackgroundColor3 = Color3.new(0.2, 0.2, 0.2)
titleLabel.Font = Enum.Font.SourceSansBold
titleLabel.TextSize = 24

-- Criar um ScrollingFrame
local scrollingFrame = Instance.new("ScrollingFrame", menuFrame)
scrollingFrame.Size = UDim2.new(1, 0, 1, -60) -- Deixa espaço para os botões de navegação
scrollingFrame.Position = UDim2.new(0, 0, 0, 50) -- Abaixo do título
scrollingFrame.BackgroundColor3 = Color3.new(0.15, 0.15, 0.15)
scrollingFrame.BorderSizePixel = 0
scrollingFrame.CanvasSize = UDim2.new(0, 0, 0, 0) -- Inicia com tamanho do canvas em zero
scrollingFrame.ScrollBarThickness = 10

-- Layout para os botões dentro do ScrollingFrame
local uiListLayout = Instance.new("UIListLayout", scrollingFrame)
uiListLayout.Padding = UDim.new(0, 10) -- Espaçamento entre os botões

-- Variáveis para arrastar o menu
local dragging
local dragStart
local startPos

local function updatePosition(input)
    local delta = input.Position - dragStart
    menuFrame.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X, startPos.Y.Scale, startPos.Y.Offset + delta.Y)
end

menuFrame.InputBegan:Connect(function(input)
    if (input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch) then
        dragging = true
        dragStart = input.Position
        startPos = menuFrame.Position

        input.Changed:Connect(function()
            if input.UserInputState == Enum.UserInputState.End then
                dragging = false
            end
        end)
    end
end)

userInputService.InputChanged:Connect(function(input)
    if dragging and (input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch) then
        updatePosition(input)
    end
end)

-- Função para criar botões no ScrollingFrame
local buttons = {}

local function createButton(name, activateCallback)
    local button = Instance.new("TextButton", scrollingFrame)
    button.Size = UDim2.new(1, -20, 0, 50)
    button.Text = name
    button.TextColor3 = Color3.new(1, 1, 1)
    button.BackgroundColor3 = Color3.new(0.3, 0.3, 0.3)
    button.BorderSizePixel = 0
    button.Font = Enum.Font.SourceSans
    button.TextSize = 20

    button.MouseButton1Click:Connect(function()
        activateCallback()
        button.BackgroundColor3 = Color3.new(0.5, 1, 0.5)
        wait(0.5)
        button.BackgroundColor3 = Color3.new(0.3, 0.3, 0.3)
    end)

    table.insert(buttons, button)

    -- Atualiza o tamanho do Canvas após adicionar um botão
    local totalHeight = #buttons * (50 + uiListLayout.Padding.Offset)
    scrollingFrame.CanvasSize = UDim2.new(0, 0, 0, totalHeight)
end

-- Criando alguns botões de exemplo
createButton("INVENTÁRIO", function() print("Abrindo inventário...") end)
createButton("Fly tool", function() print("Ativando Fly tool...") end)
createButton("Speed Boost tool", function() print("Ativando Speed Boost...") end)
createButton("Teleport tool", function() print("Ativando Teleport...") end)
createButton("Jump tool", function() print("Ativando Jump...") end)
createButton("EM BREVE", function() print("Funcionalidade em breve...") end)

-- Agora você pode adicionar mais botões conforme necessário
