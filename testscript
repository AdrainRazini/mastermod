local ScreenGui = Instance.new("ScreenGui")
local MainFrame = Instance.new("Frame")
local TitleBar = Instance.new("Frame")
local TitleLabel = Instance.new("TextLabel")
local MinimizeButton = Instance.new("TextButton")
local ButtonContainer = Instance.new("ScrollingFrame")
local Buttons = {}

-- Configurações básicas
ScreenGui.Parent = game.Players.LocalPlayer:WaitForChild("PlayerGui")
ScreenGui.Name = "ModMasterGui"

MainFrame.Name = "MainFrame"
MainFrame.Parent = ScreenGui
MainFrame.BackgroundColor3 = Color3.fromRGB(80, 80, 80)
MainFrame.Size = UDim2.new(0, 250, 0, 400)
MainFrame.Position = UDim2.new(0.5, -125, 0.5, -200)
MainFrame.AnchorPoint = Vector2.new(0.5, 0.5)

-- Barra de título
TitleBar.Name = "TitleBar"
TitleBar.Parent = MainFrame
TitleBar.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
TitleBar.Size = UDim2.new(1, 0, 0, 50)

TitleLabel.Name = "TitleLabel"
TitleLabel.Parent = TitleBar
TitleLabel.Text = "MODMASTER"
TitleLabel.Font = Enum.Font.SourceSansBold
TitleLabel.TextSize = 24
TitleLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
TitleLabel.Size = UDim2.new(1, -50, 1, 0)
TitleLabel.TextXAlignment = Enum.TextXAlignment.Left

-- Botão de minimizar
MinimizeButton.Name = "MinimizeButton"
MinimizeButton.Parent = TitleBar
MinimizeButton.Text = "-"
MinimizeButton.Font = Enum.Font.SourceSansBold
MinimizeButton.TextSize = 28
MinimizeButton.TextColor3 = Color3.fromRGB(0, 0, 0)
MinimizeButton.BackgroundColor3 = Color3.fromRGB(0, 200, 0)
MinimizeButton.Size = UDim2.new(0, 40, 1, 0)
MinimizeButton.Position = UDim2.new(1, -40, 0, 0)

-- Contêiner para botões com rolagem
ButtonContainer.Name = "ButtonContainer"
ButtonContainer.Parent = MainFrame
ButtonContainer.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
ButtonContainer.Size = UDim2.new(1, 0, 1, -50)
ButtonContainer.Position = UDim2.new(0, 0, 0, 50)
ButtonContainer.CanvasSize = UDim2.new(0, 0, 2, 0)
ButtonContainer.ScrollBarThickness = 10

-- Função para criar os botões
local function createButton(name)
    local ButtonFrame = Instance.new("Frame")
    local ButtonLabel = Instance.new("TextLabel")
    local ToggleButton = Instance.new("TextButton")

    ButtonFrame.Name = name
    ButtonFrame.Parent = ButtonContainer
    ButtonFrame.BackgroundColor3 = Color3.fromRGB(100, 100, 100)
    ButtonFrame.Size = UDim2.new(1, 0, 0, 50)
    ButtonFrame.LayoutOrder = #Buttons + 1

    ButtonLabel.Name = "ButtonLabel"
    ButtonLabel.Parent = ButtonFrame
    ButtonLabel.Text = name
    ButtonLabel.Font = Enum.Font.SourceSans
    ButtonLabel.TextSize = 20
    ButtonLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
    ButtonLabel.Size = UDim2.new(0.8, 0, 1, 0)
    ButtonLabel.TextXAlignment = Enum.TextXAlignment.Left

    ToggleButton.Name = "ToggleButton"
    ToggleButton.Parent = ButtonFrame
    ToggleButton.Text = ""
    ToggleButton.BackgroundColor3 = Color3.fromRGB(255, 0, 0)
    ToggleButton.Size = UDim2.new(0.15, 0, 0.8, 0)
    ToggleButton.Position = UDim2.new(0.85, 0, 0.1, 0)

    table.insert(Buttons, ButtonFrame)

    -- Alterna a cor do botão entre vermelho e verde
    ToggleButton.MouseButton1Click:Connect(function()
        if ToggleButton.BackgroundColor3 == Color3.fromRGB(255, 0, 0) then
            ToggleButton.BackgroundColor3 = Color3.fromRGB(0, 255, 0)
        else
            ToggleButton.BackgroundColor3 = Color3.fromRGB(255, 0, 0)
        end
    end)
end

-- Criação de 4 botões como exemplo
createButton("Função 1")
createButton("Função 2")
createButton("Função 3")
createButton("Função 4")

-- Minimizar e restaurar o menu
local minimized = false
MinimizeButton.MouseButton1Click:Connect(function()
    minimized = not minimized
    MainFrame.Visible = not minimized
end)
