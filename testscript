local player = game.Players.LocalPlayer
local mouse = player:GetMouse()

-- Criar os componentes da GUI
local screenGui = Instance.new("ScreenGui")
screenGui.Parent = player.PlayerGui

-- Frame principal (arrastável)
local frame = Instance.new("Frame")
frame.Size = UDim2.new(0, 220, 0, 180) -- Tamanho ajustado
frame.Position = UDim2.new(0, 50, 0, 50) -- Posição inicial
frame.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
frame.BorderSizePixel = 0
frame.Parent = screenGui

-- Barra de título (para arrastar)
local dragBar = Instance.new("Frame")
dragBar.Size = UDim2.new(1, 0, 0, 30)
dragBar.BackgroundColor3 = Color3.fromRGB(80, 80, 80)
dragBar.Parent = frame

dragBar.Active = true
dragBar.Draggable = true

-- Botão de minimizar
local minimizeButton = Instance.new("TextButton")
minimizeButton.Size = UDim2.new(0, 50, 0, 30)
minimizeButton.Position = UDim2.new(0.8, 0, 0, 0)
minimizeButton.Text = "Min"
minimizeButton.BackgroundColor3 = Color3.fromRGB(100, 100, 100)
minimizeButton.TextColor3 = Color3.fromRGB(255, 255, 255)
minimizeButton.Parent = frame

-- Caixa de texto para coordenadas
local textBox = Instance.new("TextBox")
textBox.Size = UDim2.new(0, 160, 0, 30)
textBox.Position = UDim2.new(0.1, 0, 0.3, 0)
textBox.PlaceholderText = "Digite X, Y, Z"
textBox.TextColor3 = Color3.fromRGB(255, 255, 255)
textBox.BackgroundColor3 = Color3.fromRGB(80, 80, 80)
textBox.Parent = frame

-- Botão de teleportar
local teleportButton = Instance.new("TextButton")
teleportButton.Size = UDim2.new(0, 100, 0, 30)
teleportButton.Position = UDim2.new(0.5, 0, 0.5, 0)
teleportButton.Text = "Teleport"
teleportButton.BackgroundColor3 = Color3.fromRGB(100, 100, 100)
teleportButton.TextColor3 = Color3.fromRGB(255, 255, 255)
teleportButton.Parent = frame

-- Botão de salvar local
local saveButton = Instance.new("TextButton")
saveButton.Size = UDim2.new(0, 100, 0, 30)
saveButton.Position = UDim2.new(0.1, 0, 0.5, 0)
saveButton.Text = "Salvar Local"
saveButton.BackgroundColor3 = Color3.fromRGB(100, 150, 100)
saveButton.TextColor3 = Color3.fromRGB(255, 255, 255)
saveButton.Parent = frame

-- ScrollFrame para locais salvos
local scrollFrame = Instance.new("ScrollingFrame")
scrollFrame.Size = UDim2.new(1, 0, 0.4, 0)
scrollFrame.Position = UDim2.new(0, 0, 0.65, 0)
scrollFrame.CanvasSize = UDim2.new(0, 0, 2, 0)
scrollFrame.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
scrollFrame.ScrollBarThickness = 5
scrollFrame.Parent = frame

local savedLocations = {}

-- Função para salvar um local
saveButton.MouseButton1Click:Connect(function()
    local coords = textBox.Text
    local x, y, z = coords:match("([^,]+),([^,]+),([^,]+)")
    if x and y and z then
        local locationName = "Local " .. tostring(#savedLocations + 1)
        table.insert(savedLocations, {name = locationName, pos = Vector3.new(tonumber(x), tonumber(y), tonumber(z))})

        local locationButton = Instance.new("TextButton")
        locationButton.Size = UDim2.new(1, 0, 0, 30)
        locationButton.Text = locationName
        locationButton.BackgroundColor3 = Color3.fromRGB(70, 70, 70)
        locationButton.TextColor3 = Color3.fromRGB(255, 255, 255)
        locationButton.Parent = scrollFrame
        
        -- Teleportar ao clicar
        locationButton.MouseButton1Click:Connect(function()
            player.Character:SetPrimaryPartCFrame(CFrame.new(savedLocations[#savedLocations].pos))
        end)
    end
end)

-- Minimizar e maximizar a GUI
minimizeButton.MouseButton1Click:Connect(function()
    if frame.Size == UDim2.new(0, 220, 0, 180) then
        frame.Size = UDim2.new(0, 220, 0, 30)
        textBox.Visible = false
        teleportButton.Visible = false
        saveButton.Visible = false
        scrollFrame.Visible = false
    else
        frame.Size = UDim2.new(0, 220, 0, 180)
        textBox.Visible = true
        teleportButton.Visible = true
        saveButton.Visible = true
        scrollFrame.Visible = true
    end
end)

-- Teleportar ao clicar no botão
teleportButton.MouseButton1Click:Connect(function()
    local coords = textBox.Text
    local x, y, z = coords:match("([^,]+),([^,]+),([^,]+)")
    if x and y and z then
        player.Character:SetPrimaryPartCFrame(CFrame.new(Vector3.new(tonumber(x), tonumber(y), tonumber(z))))
    else
        warn("Coordenadas inválidas")
    end
end)
