-- Identificar a Part no jogo (substitua "BolaInimiga" pelo nome da sua Part)
local bolaInimiga = workspace:FindFirstChild("Part")

if not bolaInimiga then
    warn("Part 'BolaInimiga' não encontrada no workspace!")
    return
end

-- Variável para controlar o estado da automação
local automaçãoAtiva = false

-- Função para verificar a proximidade e simular a tecla F
local function verificarProximidadeESimularTeclaF()
    if not automaçãoAtiva then return end  -- Só funciona se a automação estiver ativa
    
    local jogador = game.Players.LocalPlayer
    local personagem = jogador.Character
    local raiz = personagem and personagem:FindFirstChild("HumanoidRootPart")
    
    if raiz and bolaInimiga then
        -- Calcular a distância entre o jogador e a Part
        local distancia = (raiz.Position - bolaInimiga.Position).Magnitude
        
        -- Se a Part estiver próxima (distância menor que 10 unidades)
        if distancia < 10 then
            -- Simular a tecla F
            local teclaF = Enum.KeyCode.F
            game:GetService("UserInputService"):SetKeysDown({teclaF})
            wait(0.1)  -- Simula o tempo de pressionar a tecla
            game:GetService("UserInputService"):SetKeysUp({teclaF})
            print("Tecla F simulada para defesa!")
        end
    end
end

-- Loop para verificar a proximidade continuamente
local heartbeatConnection
heartbeatConnection = game:GetService("RunService").Heartbeat:Connect(function()
    verificarProximidadeESimularTeclaF()
end)

-- Função para ativar/desativar a automação
local function toggleAutomação()
    automaçãoAtiva = not automaçãoAtiva
    if automaçãoAtiva then
        print("Automação de defesa ativada!")
    else
        print("Automação de defesa desativada.")
    end
end

-- Comando para ativar/desativar a automação (usando o executor)
-- Exemplo: Digite "/defesa" no executor para ativar/desativar
local function comandoDefesa()
    toggleAutomação()
end

-- Registrar o comando no executor
if _G.comandos then
    _G.comandos["/defesa"] = comandoDefesa
else
    _G.comandos = {["/defesa"] = comandoDefesa}
end

print("Script carregado! Use o comando '/defesa' para ativar/desativar a automação de defesa.")
